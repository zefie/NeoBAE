/* WebTV HD Theme - Beatnik Music Studio */
:root {
    --webtv-bgcolor: #191919;
    --webtv-gold: #e7ce4a;
    --webtv-green: #42bd52;
    --webtv-link: #36d5ff;
    --webtv-formbg: #262626;
    --webtv-formtext: #ffc342;
    --standard-font: Helvetica, "Helvetica Neue", Arial, sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: var(--standard-font);
    background: var(--webtv-bgcolor);
    color: var(--webtv-green);
    min-height: 100vh;
    padding: 8px 12px;
    font-size: 14px;
}

.container { max-width: 1400px; margin: 0 auto; }

header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 10px;
    background: linear-gradient(#2b2b2b 35%, #0d0d0d 55%);
    margin: -8px -12px 10px -12px;
    padding: 9px 35px;
}

.logo { height: 36px; width: auto; }

h1 {
    font-size: 18px;
    font-weight: 900;
    color: var(--webtv-gold);
    text-shadow: 2px 2px 0 #000;
}

.panel {
    background: #202020;
    border: 2px solid;
    border-color: #333 #111 #111 #333;
    padding: 10px;
    margin-bottom: 8px;
}

.panel h2 {
    color: var(--webtv-gold);
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
    font-weight: 900;
    text-shadow: 1px 1px 0 #000;
}

.dual-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.channel-panel {
    background: #161616;
    padding: 10px;
    border: 2px solid;
    border-color: #111 #333 #333 #111;
}

.channel-panel.left { border-left: 3px solid #e74a4a; }
.channel-panel.right { border-left: 3px solid var(--webtv-green); }

.channel-label {
    font-size: 13px;
    font-weight: 900;
    margin-bottom: 8px;
    text-shadow: 1px 1px 0 #000;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.channel-panel.left .channel-label { color: #ff6b6b; }
.channel-panel.right .channel-label { color: var(--webtv-green); }

select {
    width: 100%;
    padding: 6px 8px;
    background: var(--webtv-formbg);
    border: 2px solid;
    border-color: #010101 #8f8f8f #8f8f8f #010101;
    color: var(--webtv-formtext);
    font-size: 12px;
    font-family: Monaco, Consolas, monospace;
    margin-bottom: 8px;
}

select:focus { outline: none; border-color: var(--webtv-gold); }

.status {
    font-size: 11px;
    color: #666;
    padding: 4px 6px;
    background: #111;
    margin-top: 6px;
}

.status.ready { color: var(--webtv-green); }
.status.loading { color: var(--webtv-gold); }
.status.error { color: #e74a4a; }

.drop-zone {
    border: 2px dashed #444;
    padding: 10px 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
    color: #666;
}

.drop-zone:hover, .drop-zone.dragover {
    border-color: var(--webtv-gold);
    background: #222;
    color: var(--webtv-gold);
}

.drop-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.95);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    color: #fff;
    font-size: 24px;
    font-weight: 600;
    pointer-events: none;
}
.drop-overlay.visible { display: flex; }

.preset-wrapper { position: relative; margin-left: 12px; padding-bottom: 10px; margin-bottom: -10px; }
.preset-link { color: #666; font-size: 12px; cursor: pointer; transition: color 0.2s; }
.preset-link:hover { color: var(--webtv-link); text-decoration: underline; }
.preset-link.loaded { color: var(--webtv-green); cursor: default; }
.preset-link.loaded:hover { text-decoration: none; }
.preset-menu {
    position: absolute;
    top: 100%; left: -10px;
    background: #1a1a1a;
    border: 1px solid #444;
    padding: 4px 0;
    min-width: 160px;
    display: none;
    z-index: 100;
}
.preset-menu::before {
    content: '';
    position: absolute;
    top: -10px; left: 0; right: 0;
    height: 10px;
}
.preset-wrapper:hover .preset-menu { display: block; }
.preset-menu-item { padding: 8px 12px; color: #ccc; cursor: pointer; font-size: 12px; }
.preset-menu-item:hover { background: #333; color: var(--webtv-gold); }

.channel-grid-wrapper { position: relative; width: 100%; }
.channel-grid { display: grid; grid-template-columns: repeat(8, 1fr); gap: 3px; }

.mascot {
    position: absolute;
    bottom: 0; right: 0;
    height: 38px;
    cursor: pointer;
    display: none;
    z-index: 10;
    transition: transform 0.2s;
}
.mascot.visible { display: block; }
.mascot:hover { transform: scale(1.15); }

input[type="file"] { display: none; }

.transport { display: flex; justify-content: center; gap: 8px; padding: 8px 0; }

.transport-btn {
    padding: 6px 14px;
    border: 2px solid;
    border-color: #333 #111 #111 #333;
    background: linear-gradient(#3a3a3a, #222);
    color: var(--webtv-green);
    font-size: 11px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.15s;
    text-shadow: 1px 1px 0 #000;
}

.transport-btn:hover { background: linear-gradient(#444, #2a2a2a); color: #fff; }

.transport-btn.play {
    background: linear-gradient(#2a6a2a, #1a4a1a);
    border-color: #4a4 #1a3a1a #1a3a1a #4a4;
    color: #fff;
    padding: 6px 18px;
}

.transport-btn.play:hover { background: linear-gradient(#3a8a3a, #2a5a2a); }
.transport-btn:disabled { opacity: 0.3; cursor: not-allowed; }

.export-progress { margin: 8px 0; padding: 8px; background: #111; border: 1px solid #333; }
.export-status { text-align: center; margin-bottom: 6px; font-size: 12px; color: var(--webtv-gold); }

.button-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 4px; padding: 6px 0; }

.ctrl-btn {
    padding: 5px 6px;
    background: linear-gradient(#333, #1a1a1a);
    border: 2px solid;
    border-color: #444 #111 #111 #444;
    color: var(--webtv-gold);
    font-size: 10px;
    font-weight: 700;
    cursor: pointer;
    text-align: center;
    text-shadow: 1px 1px 0 #000;
    transition: all 0.1s;
}

.ctrl-btn:hover { background: linear-gradient(#444, #222); color: #fff; }
.ctrl-btn:active { background: linear-gradient(#222, #333); }

.progress-container {
    background: linear-gradient(90deg, #202a2a, #000);
    border: 2px solid;
    border-color: #202020 #666 #666 #202020;
    height: 17px;
    margin: 8px 0;
    cursor: pointer;
    overflow: hidden;
    padding: 2px;
}

.progress-bar {
    height: 100%;
    background: repeating-linear-gradient(45deg, #00a500, #00a500 4px, #006f00 4px, #006f00 8px);
    width: 0%;
    transition: width 0.1s;
    border-top: 1px solid #003c00;
    border-bottom: 1px solid #003c00;
}

.time-display { display: flex; justify-content: space-between; font-size: 11px; color: var(--webtv-green); }
.now-playing { text-align: center; padding: 6px; font-size: 14px; font-weight: 700; color: var(--webtv-link); }

.controls-row { display: flex; gap: 15px; padding: 6px 0; align-items: center; flex-wrap: wrap; }
.gain-row { display: flex; align-items: center; gap: 8px; flex: 1; min-width: 200px; }
.gain-label { font-size: 11px; color: var(--webtv-gold); text-shadow: 1px 1px 0 #000; }
.gain-value { font-size: 11px; color: var(--webtv-green); min-width: 35px; text-align: right; }

#gainSlider {
    flex: 1;
    -webkit-appearance: none;
    background: linear-gradient(#111, #222);
    height: 8px;
    border: 1px solid #333;
}

#gainSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px; height: 14px;
    background: linear-gradient(#666, #333);
    border: 1px solid #888;
    cursor: pointer;
}

#gainSlider::-webkit-slider-thumb:hover { background: linear-gradient(#888, #555); }

.reverb-control { display: flex; align-items: center; gap: 6px; }
.reverb-control label { font-size: 11px; color: var(--webtv-gold); text-shadow: 1px 1px 0 #000; }
.reverb-control select { padding: 4px 6px; font-size: 11px; min-width: 120px; margin-bottom: 0; }

.balance-container { padding: 6px 0; }
.balance-label { text-align: center; margin-bottom: 6px; font-size: 11px; color: var(--webtv-gold); }
.balance-slider-wrapper { display: flex; align-items: center; gap: 8px; }
.balance-slider-wrapper span { font-size: 10px; color: var(--webtv-green); }
.balance-slider-wrapper span:last-child { text-align: right; }

input[type="range"] {
    flex: 1;
    -webkit-appearance: none;
    background: linear-gradient(#111, #222);
    height: 8px;
    border: 1px solid #333;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px; height: 14px;
    background: linear-gradient(#666, #333);
    border: 1px solid #888;
    cursor: pointer;
}

input[type="range"]::-webkit-slider-thumb:hover { background: linear-gradient(#888, #555); }

.volume-row { display: flex; align-items: center; gap: 8px; margin-top: 6px; }
.volume-row label { font-size: 11px; color: var(--webtv-gold); width: 45px; text-shadow: 1px 1px 0 #000; }
.volume-row input[type="range"] { flex: 1; }
.volume-row .value { font-size: 11px; color: var(--webtv-green); width: 40px; text-align: right; }

.soundbank-meter { margin-top: 8px; padding-top: 8px; border-top: 1px solid #333; }
.soundbank-meter-label { font-size: 10px; color: var(--webtv-gold); text-transform: uppercase; margin-bottom: 4px; text-shadow: 1px 1px 0 #000; }
.soundbank-meter-bar { height: 6px; background: linear-gradient(#111, #000); border: 1px solid #333; overflow: hidden; }
.soundbank-meter-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--webtv-green) 0%, var(--webtv-gold) 70%, #e74a4a 100%); transition: width 0.05s; }

.master-meters { padding: 8px; background: #111; border: 1px solid #333; margin-top: 8px; }
.master-meter-label { font-size: 10px; color: var(--webtv-gold); text-transform: uppercase; margin-bottom: 8px; text-align: center; text-shadow: 1px 1px 0 #000; }
.master-meter-row { display: flex; align-items: center; gap: 6px; margin-bottom: 4px; }
.master-meter-row:last-child { margin-bottom: 0; }
.master-ch-label { font-size: 10px; color: var(--webtv-green); width: 12px; font-weight: 700; }
.master-meter-bar { flex: 1; height: 8px; background: linear-gradient(#111, #000); border: 1px solid #333; overflow: hidden; }
.master-meter-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--webtv-green) 0%, var(--webtv-gold) 70%, #e74a4a 100%); transition: width 0.05s; }

.channel-strip .ch-vu { width: 100%; height: 6px; background: linear-gradient(#000, #111); margin-bottom: 4px; overflow: hidden; border: 1px solid #333; }
.channel-strip .ch-vu-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--webtv-green) 0%, var(--webtv-gold) 70%, #e74a4a 100%); transition: width 0.08s; }

.mixer-panel { margin-top: 10px; }
.mixer-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
.mixer-header h3 { font-size: 10px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--webtv-gold); font-weight: 700; text-shadow: 1px 1px 0 #000; }
.mixer-actions { display: flex; gap: 4px; }
.mixer-actions button { padding: 3px 8px; font-size: 10px; background: linear-gradient(#333, #1a1a1a); border: 1px solid #444; color: var(--webtv-green); cursor: pointer; text-shadow: 1px 1px 0 #000; }
.mixer-actions button:hover { background: linear-gradient(#444, #222); color: #fff; }

.channel-strip { background: #1a1a1a; border: 1px solid #333; padding: 4px 2px; text-align: center; font-size: 9px; }
.channel-strip .ch-num { font-weight: 700; margin-bottom: 3px; color: var(--webtv-link); font-size: 10px; cursor: pointer; user-select: none; }
.channel-strip.drums .ch-num { color: var(--webtv-gold); }
.channel-strip .ch-num:hover { color: var(--webtv-gold); }
.channel-strip .ch-buttons { display: flex; flex-direction: column; gap: 2px; }
.channel-strip button { padding: 3px 2px; font-size: 9px; font-weight: 700; border: 1px solid #333; cursor: pointer; transition: all 0.15s; }
.channel-strip .mute-btn { background: linear-gradient(#3a2a2a, #2a1a1a); color: #e74a4a; }
.channel-strip .mute-btn.active { background: linear-gradient(#a33, #722); color: #fff; }
.channel-strip .solo-btn { background: linear-gradient(#2a3a2a, #1a2a1a); color: var(--webtv-green); }
.channel-strip .solo-btn.active { background: linear-gradient(#3a3, #282); color: #fff; }

.instrument-picker {
    display: none;
    position: fixed;
    background: #1a1a1a;
    border: 2px solid;
    border-color: #444 #111 #111 #444;
    padding: 10px;
    z-index: 1000;
    box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.8);
    min-width: 260px;
    max-height: 340px;
    overflow: hidden;
    flex-direction: column;
}

.instrument-picker.visible { display: flex; }
.instrument-picker-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; padding-bottom: 6px; border-bottom: 1px solid #333; }
.instrument-picker-title { font-size: 14px; color: var(--webtv-gold); font-weight: 700; text-shadow: 1px 1px 0 #000; }
.instrument-picker-close { background: none; border: none; color: #666; font-size: 16px; cursor: pointer; padding: 0; line-height: 1; }
.instrument-picker-close:hover { color: var(--webtv-gold); }
.instrument-categories { display: flex; flex-wrap: wrap; gap: 3px; margin-bottom: 8px; }
.instrument-category { padding: 4px 8px; font-size: 12px; background: linear-gradient(#333, #1a1a1a); border: 1px solid #444; color: var(--webtv-green); cursor: pointer; transition: all 0.1s; }
.instrument-category:hover { background: linear-gradient(#444, #222); color: #fff; }
.instrument-category.active { background: linear-gradient(#2a5a2a, #1a3a1a); border-color: var(--webtv-green); color: #fff; }
.instrument-list { flex: 1; overflow-y: auto; max-height: 220px; }
.instrument-item { padding: 5px 8px; font-size: 13px; color: var(--webtv-green); cursor: pointer; transition: all 0.1s; }
.instrument-item:hover { background: #222; color: var(--webtv-gold); }
.instrument-item.current { background: #1a2a1a; color: var(--webtv-link); }
.instrument-item .inst-num { color: #666; font-size: 11px; margin-right: 6px; }

.stereo-controls { margin-top: 8px; padding-top: 8px; border-top: 1px solid #333; }
.stereo-row { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.stereo-row label { font-size: 11px; color: var(--webtv-gold); width: 45px; text-shadow: 1px 1px 0 #000; }
.stereo-row input[type="range"] { flex: 1; }
.stereo-row .value { font-size: 11px; color: var(--webtv-green); width: 40px; text-align: right; }

.powered-by { text-align: center; padding: 10px; margin-top: 10px; font-size: 11px; color: #666; border-top: 1px solid #333; }
.powered-by a { color: var(--webtv-link); text-decoration: none; }
.powered-by a:hover { color: var(--webtv-gold); text-decoration: underline; }

@media (max-width: 900px) { .dual-container { grid-template-columns: 1fr; } }
